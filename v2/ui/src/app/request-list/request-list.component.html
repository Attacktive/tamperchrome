<table
  mat-table
  fxFill
  [dataSource]="dataSource"
  aria-label="List of HTTP Requests"
  (keydown)="keyManager?.onKeydown($event)">
  <ng-container matColumnDef="method">
    <th mat-header-cell *matHeaderCellDef>Method</th>
    <td mat-cell *matCellDef="let request">{{request.method}}</td>
  </ng-container>
  <ng-container matColumnDef="host">
    <th mat-header-cell *matHeaderCellDef>Host</th>
    <td mat-cell *matCellDef="let request">{{request.host}}</td>
  </ng-container>
  <ng-container matColumnDef="pathquery">
    <th mat-header-cell *matHeaderCellDef>Path + Query</th>
    <td mat-cell *matCellDef="let request">{{request.path}} {{request.query}}</td>
  </ng-container>
  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef>Type</th>
    <td mat-cell *matCellDef="let request">{{request.type}}</td>
  </ng-container>
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let request">{{request.pending?"intercepted":"sent"}}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
  <tr
    mat-row
    app-request-list-item
    *matRowDef="let row; columns: displayedColumns; let i = index;"
    [request]="row"
    (click)="keyManager?.setActiveItem(i)"
    [attr.tabindex]="(keyManager?.activeItemIndex || 0) == i?0:-1"
    [ngClass]="{'cdk-keyboard-focused': (keyManager?.activeItemIndex || 0) == i}">
  </tr>
</table>
